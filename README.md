# Flask-Project

## Подготовка приложения

1. Запустите приложение
2. Создайте администратора коммандой `python3 manage.py create_admin`
3. Настройте SMTP сервер в файле config.py в разделе `Mail settings`
(тестировалось на gmail):
    1. `MAIL_SERVER` - адрес SMTP сервера
    2. `MAIL_PORT` - порт SMTP сервера
    3. `MAIL_USE_SSL` - разрешен ли протокол SSL (`True` или `False`)
    4. `MAIL_USE_TSL` - разрешен ли протокол TSL (`True` или `False`)
    5. `MAIL_USERNAME` - адрес электронной почты
    6. `MAIL_DEFAULT_SENDER` - адрес электронной почты еще раз
    7. `MAIL_PASSWORD` - пароль от электронной почты
4. Укажите почту для обратной связи в пункте `FEEDBACK_MAIL`
5. Настройте `RECAPTCHA_PUBLIC_KEY` и `RECAPTCHA_PRIVATE_KEY` в разделе `App settings`


## Дополнительные настройки

В файле config.py если несколько дополнительных настроек:
1. `POSTS_ON_PAGE` - количество постов на одной странице
2. `COMMENTS_ON_PAGE` - количество комментариев на одной странице под каждыим постом
3. `USERS_ON_PAGE` - количество пользователей на одной странице во вкладе "Пользователи" в веб интерфейсе
4. `POSTS_ON_USER_PAGE` - количество постов на одной странице созданным каждым пользователем


## Права для разных аккаунтов

### Анонимный пользователь
1. Просмотр постов и комментариев

### Пользователь
1. Обратная связь (если учетная запись подтверждена)
2. Возможность осавлять комментприи (если учетная запись подтверждена)
3. Возможность активировать подписку (если учетная запись подтверждена)


### Модератор
1. Создание постов
2. Редактирование и удаление СВОИХ постов
3. Удаление комментариев


### Администратор
1. Редактирование и удаление ВСЕХ постов
2. Назначение новых модераторов и администраторов
3. Доступ к списку всех пользователей

P.S. С увеличением роли все права предыдущей сохраняются


## Полезные материалы

1. Статья по настройке SMTP сервера gmail -
https://www.twilio.com/blog/2018/03/send-email-programmatically-with-gmail-python-and-flask.html
2. Статья по получению ключей для recapcha - 
https://prog-time.ru/ustanovka-google-recaptcha-v3-na-sajt-2019-kak-ustanovit-nevidimuyu-kapchu-na-sajt
